option batch on
option confirm off

open sftp://notyou64:Steven1!@68.178.221.71:22 -hostkey="ssh-ed25519 255 9NktM0x2LybydB83Ie/azLpT7VpKQIpMfjfouXmVZWY"

# Change to the repo root (passed as %1% from PowerShell)
lcd "%1%"

# Move to the parent folder on remote where skyesoft should live
cd /home/notyou64/public_html

# === The key line ===
# Push contents of current local dir (.) → remote subfolder 'skyesoft'
# -delete    → remove remote files no longer present locally (true mirror)
# -filemask= → exclude patterns (note the | prefix for exclusions)
synchronize remote . skyesoft -delete -filemask="|.git/;node_modules/;secure/;.env;repoTree.txt;tree.txt"

# For testing/safety first, comment the line above and uncomment this preview version:
# synchronize remote . skyesoft -preview -delete -filemask="|.git/;node_modules/;secure/;.env;repoTree.txt;tree.txt"

exit