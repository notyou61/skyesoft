{
  "codexMeta": {
    "title": "üéØ Skyesoft Codex Meta",
    "version": "2025.10",
    "lastUpdated": "2025-10-06",
    "category": "System Layer",
    "enrichment": "light",
    "description": {
      "icon": "book",
      "format": "text",
      "text": "The Codex Meta governs the format, validation, and enrichment logic for every Skyesoft module. It ensures consistency between how data is structured, interpreted, and visually rendered through the Skyesoft Report Kernel and Skyebot AI."
    },
    "schema": {
      "requiredKeys": ["title", "purpose"],
      "optionalKeys": [
        "description",
        "features",
        "workflow",
        "integrations",
        "rules",
        "examples",
        "format",
        "category",
        "version",
        "enrichment"
      ],
      "fieldTypes": {
        "title": "String with emoji prefix",
        "purpose": "Object {icon, text}",
        "description": "Object {icon, text}",
        "features": "Object {icon, items[]}",
        "workflow": "Object {icon, items[]}",
        "integrations": "Object {icon, items[]}",
        "rules": "Object {icon, items[]}",
        "examples": "Object {icon, items[]}",
        "format": "String: 'text', 'list', or 'table'",
        "enrichment": "String: 'none', 'light', 'medium', or 'heavy'"
      },
      "notes": "Every module must include 'title' and 'purpose'. The 'enrichment' property determines how aggressively AI expands the text. This schema defines the governance rules that allow Skyesoft to self-document."
    },
    "implementationNotes": {
      "icon": "gear",
      "format": "text",
      "text": "The Codex Meta itself is parsed but excluded from standard report output. It is used to validate module structure, apply enrichment rules, and maintain interoperability between AI components."
    }
  },
  "skyesoftOverview": {
    "title": "üìò Skyesoft Overview",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines the mission, structure, and interconnectivity of all Skyesoft modules. It presents the big picture: how Skyesoft unifies project management, AI reasoning, and operational data into one continuous system."
    },
    "architectureLayers": {
      "icon": "puzzle",
      "format": "table",
      "items": [
        { "Layer": "Foundational", "Modules": "Time Interval Standards, Document Standards", "Purpose": "Establish temporal and visual consistency" },
        { "Layer": "Operational", "Modules": "Attendance, Permit Management", "Purpose": "Support daily workflows" },
        { "Layer": "Adaptive", "Modules": "AI Integration, SSE Stream", "Purpose": "Provide real-time context and reasoning" }
      ]
    },
    "systemVision": {
      "icon": "rocket",
      "format": "list",
      "items": [
        "Unify project and administrative data in a single schema",
        "Enable automation without loss of human oversight",
        "Make reports self-generating and audit-friendly",
        "Allow modular AI enrichment for context awareness"
      ]
    }
  },
  "skyesoftConstitution": {
    "title": "üß≠ Skyesoft Constitution",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines the principles and logical framework that guide all Skyesoft operations. The Constitution ensures that time, structure, and intelligence are always aligned with Christy Signs‚Äô business goals."
    },
    "corePrinciples": {
      "icon": "shield",
      "format": "list",
      "items": [
        "Transparency in logic and output",
        "Consistency in structure and formatting",
        "Scalability and modularity across components",
        "Resilience via validation and auditability"
      ]
    },
    "governingFramework": {
      "icon": "puzzle",
      "format": "table",
      "items": [
        { "Layer": "Foundation", "Scope": "TIS, Document Standards", "Purpose": "Define time and design consistency" },
        { "Layer": "Core", "Scope": "Permit Management, Attendance", "Purpose": "Ensure workflow alignment" },
        { "Layer": "Adaptive", "Scope": "AI and SSE Streams", "Purpose": "Enable learning and context adaptation" }
      ]
    }
  },
  "documentStandards": {
    "title": "üìÑ Document Standards",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines the formatting, layout, and branding policies that govern all Skyesoft-generated documents including reports, sheets, and correspondence."
    },
    "features": {
      "icon": "gear",
      "format": "list",
      "items": [
        "Uniform header/footer structure with metadata",
        "Automatic pagination and timestamp alignment",
        "Integrated iconography from iconMap.json",
        "Configurable spacing and typography standards"
      ]
    }
  },
  "timeIntervalStandards": {
    "title": "‚è±Ô∏è Time Interval Standards (TIS)",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines workday types and time segments used across scheduling, SLA validation, and AI contextual reasoning. Each day is classified as Workday, Weekend, or Holiday. Time intervals are further divided for Office and Shop environments."
    },
    "dayTypes": {
      "icon": "calendar",
      "format": "list",
      "items": ["Workday", "Weekend", "Holiday"]
    },
    "segmentsOffice": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Interval": "Before Worktime", "Hours": "12:00 AM ‚Äì 7:29 AM" },
        { "Interval": "Worktime", "Hours": "7:30 AM ‚Äì 3:30 PM" },
        { "Interval": "After Worktime", "Hours": "3:31 PM ‚Äì 11:59 PM" }
      ]
    },
    "segmentsShop": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Interval": "Before Worktime", "Hours": "12:00 AM ‚Äì 5:59 AM" },
        { "Interval": "Worktime", "Hours": "6:00 AM ‚Äì 2:00 PM" },
        { "Interval": "After Worktime", "Hours": "2:01 PM ‚Äì 11:59 PM" }
      ]
    },
    "holidays": {
      "icon": "calendar",
      "format": "table",
      "items": [
        { "Date": "2025-01-01", "Holiday": "New Year's Day" },
        { "Date": "2025-01-20", "Holiday": "Martin Luther King Jr. Day" },
        { "Date": "2025-02-17", "Holiday": "Presidents' Day" },
        { "Date": "2025-05-26", "Holiday": "Memorial Day" },
        { "Date": "2025-07-04", "Holiday": "Independence Day" },
        { "Date": "2025-09-01", "Holiday": "Labor Day" },
        { "Date": "2025-10-13", "Holiday": "Columbus Day" },
        { "Date": "2025-11-11", "Holiday": "Veterans Day" },
        { "Date": "2025-11-27", "Holiday": "Thanksgiving Day" },
        { "Date": "2025-12-25", "Holiday": "Christmas Day" }
      ]
    },
    "exclusions": {
      "icon": "shield",
      "format": "text",
      "text": "Weekends and Holidays are automatically excluded from all time-sensitive calculations and scheduling routines. Live data for holidays is dynamically retrieved via the Skyesoft SSE stream and federalHolidays.php."
    }
  },
  "fileManagement": {
    "title": "üóÇÔ∏è File Management",
    "category": "System Layer",
    "enrichment": "light",
    "purpose": {
      "icon": "folder",
      "format": "text",
      "text": "Establishes unified file handling, naming conventions, and versioning logic for all Skyesoft data structures."
    },
    "rules": {
      "icon": "shield",
      "format": "list",
      "items": [
        "Use consistent lowercase filenames with hyphens",
        "Store active data under /assets/data/",
        "Archive obsolete or legacy materials under /docs/legacy/",
        "Avoid redundancy between sheets and reports"
      ]
    }
  },
  "coreDatabaseStructure": {
    "title": "üß± Core Database Structure",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "puzzle",
      "format": "text",
      "text": "Defines how Skyesoft stores entities, locations, contacts, and relationships in JSON and database form."
    },
    "features": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Entity": "companies", "Description": "Corporate records (clients, vendors, jurisdictions)" },
        { "Entity": "contacts", "Description": "Linked individuals associated with entities" },
        { "Entity": "locations", "Description": "Physical or project addresses linked to entities" },
        { "Entity": "jobs", "Description": "Active work orders and projects" }
      ]
    }
  },
  "crudUserInterfaceConvention": {
    "title": "‚öôÔ∏è CRUD User Interface Convention",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Establishes the universal design and behavioral standards for all Create, Read, Update, and Delete operations within Skyesoft. Ensures that every data interaction, whether manual or AI-triggered, follows predictable and reversible logic."
    },
    "description": {
      "icon": "book",
      "format": "text",
      "text": "The CRUD Convention defines how Skyesoft modules expose editable data to users and AI agents. It governs action prompts, confirmation flows, state visualization, and data persistence across both modal and full-view contexts."
    },
    "features": {
      "icon": "gear",
      "format": "list",
      "items": [
        "Standardized four-verb model: Create, Read, Update, Delete",
        "Consistent button color and icon conventions (green = Create, blue = Read, yellow = Update, red = Delete)",
        "Automatic validation before commit, with reversible undo actions",
        "Session-linked state control synchronized with SSE Stream",
        "AI-assisted CRUD reasoning via Skyebot for context-aware edits"
      ]
    },
    "workflow": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Action": "Create", "Behavior": "Opens modal for data entry; validates required fields before commit" },
        { "Action": "Read", "Behavior": "Displays record in read-only state with contextual metadata" },
        { "Action": "Update", "Behavior": "Locks record for edit; version control managed through File Management rules" },
        { "Action": "Delete", "Behavior": "Triggers confirmation and soft-delete flag; archival handled automatically" }
      ]
    },
    "integrations": {
      "icon": "link",
      "format": "list",
      "items": [
        "Dynamic Modal System (Mobile-First Modals)",
        "Core Database Structure for entity persistence",
        "Document Standards for visual alignment",
        "SSE Stream for live synchronization feedback"
      ]
    },
    "rules": {
      "icon": "shield",
      "format": "list",
      "items": [
        "All CRUD actions must route through Skyebot‚Äôs validated API endpoints",
        "Each operation logs to the System Audit Trail with timestamp and user ID",
        "Destructive actions require dual confirmation or admin override",
        "AI-generated modifications must include provenance metadata"
      ]
    },
    "examples": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Module": "Permit Management Suite", "Example": "Create ‚Üí New Permit Request; Read ‚Üí Permit Status Viewer" },
        { "Module": "Attendance Suite", "Example": "Update ‚Üí Edit Time Log; Delete ‚Üí Remove Erroneous Entry" },
        { "Module": "Financial Control Suite", "Example": "Create ‚Üí New Reimbursement; Read ‚Üí Ledger Viewer" }
      ]
    }
  },
  "mobileFirstModals": {
    "title": "üì± Mobile-First Modals",
    "category": "System Layer",
    "enrichment": "light",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Describes Skyesoft‚Äôs modal-based interface logic, optimized for mobile and tablet screens. Enables quick contextual interactions without full-page reloads."
    },
    "features": {
      "icon": "gear",
      "format": "list",
      "items": [
        "Dynamic modal injection with user prompts",
        "Keyboard-friendly entry for quick tasks",
        "Adaptive width scaling for mobile browsers"
      ]
    }
  },
  "attendanceSuite": {
    "title": "üïí Attendance Suite",
    "category": "Operational Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Tracks employee attendance, scheduling, and time logs integrated with Time Interval Standards and Skyebot awareness."
    },
    "workflow": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Step": "Clock In/Out", "Description": "User action triggers TIS validation and record update" },
        { "Step": "Review", "Description": "Managers can review daily activity summaries" },
        { "Step": "Sync", "Description": "Data syncs automatically to skyesoft-data.json" }
      ]
    }
  },
  "permitManagementSuite": {
    "title": "üìã Permit Management Suite",
    "category": "Operational Layer",
    "enrichment": "heavy",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Automates the sign permit application, payment, and tracking process across multiple jurisdictions."
    },
    "workflow": {
      "icon": "list",
      "format": "list",
      "items": [
        "Initiate permit request with job reference and client details",
        "Submit application through jurisdictional portal",
        "Track status, expiration, and fee receipts",
        "Auto-generate permit summary report with attached receipts"
      ]
    }
  },
  "financialControlSuite": {
    "title": "üí∞ Financial Control Suite",
    "category": "Operational Layer",
    "enrichment": "light",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Handles internal reimbursements, petty cash tracking, and AR/AP reporting workflows."
    },
    "features": {
      "icon": "gear",
      "format": "list",
      "items": [
        "Reimbursement reports auto-populate from receipt uploads",
        "Mileage, petty cash, and permit fee integration",
        "PDF export aligned with Document Standards"
      ]
    }
  },
  "serviceManagementSuite": {
    "title": "üîß Service Management Suite",
    "category": "Operational Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Manages field service requests, maintenance calls, and status reporting for illuminated signage and installations."
    },
    "workflow": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Step": "Request Logged", "Detail": "Client or internal user submits a service ticket" },
        { "Step": "Dispatch", "Detail": "Technician assigned and notified automatically" },
        { "Step": "Completion", "Detail": "Work order updated and archived to project history" }
      ]
    }
  },
  "managementEscalationTrees": {
    "title": "üå≥ Management Escalation Trees",
    "category": "Operational Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines decision and communication chains within Skyesoft, ensuring accountability and continuity of response."
    },
    "rules": {
      "icon": "list",
      "format": "list",
      "items": [
        "Each suite must define its own escalation logic",
        "Escalations always follow the role hierarchy first",
        "Emergency overrides are logged and timestamped"
      ]
    }
  },
  "skyebotModule": {
    "title": "ü§ñ Skyebot Module",
    "category": "Adaptive Layer",
    "enrichment": "heavy",
    "purpose": {
      "icon": "robot",
      "format": "text",
      "text": "Serves as the conversational interface of Skyesoft, interpreting user queries and triggering backend logic, reports, or document creation."
    },
    "integrations": {
      "icon": "link",
      "format": "list",
      "items": [
        "OpenAI API (askOpenAI.php)",
        "Dynamic SSE Stream for context awareness",
        "Codex-driven intent recognition"
      ]
    }
  },
  "aiIntegration": {
    "title": "üß† AI Integration",
    "category": "Adaptive Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines how Skyesoft integrates external AI APIs to enhance context reasoning, enrichment, and decision automation."
    },
    "workflow": {
      "icon": "list",
      "format": "list",
      "items": [
        "Collect structured module context",
        "Assemble enrichment prompts with codex metadata",
        "Call OpenAI API for enhancement",
        "Render output dynamically via Report Kernel"
      ]
    }
  },
  "sseStream": {
    "title": "üåê SSE Stream",
    "category": "Adaptive Layer",
    "enrichment": "light",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Provides real-time state data including time, weather, and system status. Acts as the live operational pulse of the Skyesoft system."
    },
    "examples": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Stream": "timeDateArray", "Purpose": "Real-time work interval tracking" },
        { "Stream": "weatherData", "Purpose": "Dynamic weather injection for context" },
        { "Stream": "siteMeta", "Purpose": "Deployment and Netlify sync data" }
      ]
    }
  },
  "ragFramework": {
    "title": "üìö RAG Framework",
    "category": "Adaptive Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "book",
      "format": "text",
      "text": "Defines Skyesoft‚Äôs Retrieval-Augmented Generation layer, connecting Codex content, archived reports, and live data into a reasoning network."
    },
    "features": {
      "icon": "gear",
      "format": "list",
      "items": [
        "Codex-aware retrieval queries",
        "Cross-reference between modules and SSE streams",
        "Context summarization for AI agents"
      ]
    }
  },
  "semanticResponder": {
  "title": "üß≠ Semantic Responder",
  "category": "Adaptive Layer",
  "enrichment": "medium",
  "description": "Defines Skyebot‚Äôs core reasoning system ‚Äî interpreting natural language semantically to match user intent to Codex modules, SSE data, and CRUD operations without strict keyword dependence.",
  "purpose": {
    "icon": "target",
    "format": "text",
    "text": "Defines Skyebot‚Äôs core reasoning system ‚Äî interpreting natural language semantically to match user intent to Codex modules, SSE data, and CRUD operations without strict keyword dependence."
  },
  "features": {
    "icon": "gear",
    "format": "list",
    "items": [
      "Contextual understanding of prompts beyond keyword matching",
      "Dynamic alignment with live SSE snapshot data",
      "Automatic intent mapping to Codex modules or report actions",
      "Fallback to Google Search when information is absent from Codex"
    ]
  }
  },
  "chatHistoryArchitecture": {
    "title": "üíæ Chat History Architecture",
    "category": "System Layer",
    "enrichment": "medium",
    "purpose": {
      "icon": "target",
      "format": "text",
      "text": "Defines how Skyebot‚Ñ¢ records every exchange into an immutable, timestamped ledger. Each message and reply is stored with a unique ID derived from the session's UNIX timestamp and incremental counter."
    },
    "structure": {
      "icon": "table",
      "format": "table",
      "items": [
        { "Field": "messageId", "Type": "String", "Description": "Composite of session start time (UNIX) + increment (e.g., 1739432447_4)" },
        { "Field": "timestamp", "Type": "Integer", "Description": "UNIX time of event for fast sorting and cross-reference" },
        { "Field": "userId", "Type": "Integer", "Description": "Identifies the actor; 0 = Skyebot‚Ñ¢, >0 = Human user, -1 = Anonymous" },
        { "Field": "message", "Type": "String", "Description": "User input or Skyebot response text" },
        { "Field": "attachments", "Type": "Array", "Description": "Optional list of attached file objects or paths" },
        { "Field": "metadata", "Type": "Object", "Description": "Includes IP address, CRUD action key, and system tags" }
      ]
    },
    "metadataModel": {
      "icon": "gear",
      "format": "list",
      "items": [
        "IP address recorded for traceability and audit",
        "CRUD action logged from actions.json reference table",
        "System actions such as login and session start treated as Create-type events"
      ]
    },
    "integrationPoints": {
      "icon": "link",
      "format": "list",
      "items": [
        "CRUD User Interface Convention ‚Äî aligns user actions with audit trail entries",
        "File Management ‚Äî manages persistence under /api/data/chat_history/",
        "Skyebot Module ‚Äî appends events for each conversation exchange"
      ]
    },
    "principles": {
      "icon": "shield",
      "format": "list",
      "items": [
        "Append-only structure for audit integrity",
        "Human-readable JSON with atomic writes",
        "Chronological order preserved via UNIX timestamps",
        "Session files indexed monthly for scalability"
      ]
    },
    "example": {
      "icon": "code",
      "format": "text",
      "text": "{\n  \"messageId\": \"1739432447_4\",\n  \"timestamp\": 1739432489,\n  \"userId\": 1,\n  \"message\": \"Generate Time Interval Standards sheet.\",\n  \"attachments\": [],\n  \"metadata\": { \"ip\": \"73.10.24.120\", \"action\": \"create_report\", \"crud\": \"C\" }\n}"
    }
  },
  "modules": {
    "skyesoftGlossary": {
      "title": "üìò Skyesoft Glossary",
      "category": "System Layer",
      "description": "Defines internal shorthand and operational slang used across Skyesoft projects, emphasizing clarity, rhythm, and efficiency in team communication.",
      "purpose": {
        "icon": "book",
        "format": "text",
        "text": "To unify Skyesoft‚Äôs internal terminology ‚Äî blending technical accuracy with cultural rhythm ‚Äî so that AI, developers, and staff speak the same language."
      },
      "data": {
        "icon": "sparkle",
        "format": "table",
        "content": {
          "SNPS": "Salt N' Pepa Style ‚Äî Save it, commit it, push it ‚Äî clean and confident. The rhythm of progress. üíæ‚û°Ô∏èüöÄ",
          "AIW": "All-In-Wonder ‚Äî a one-cut command that moves, renames, and runs. Fast hands, no hesitation. ‚ö°",
          "TC": "Terminal Command ‚Äî raw execution from the shell. You type, it happens. üîß",
          "TCL": "Terminal Command Line ‚Äî the full chain, from setup to commit, meant to flow as one move. ‚õìÔ∏è",
          "LGBAS": "Let's Go Back A Step ‚Äî the tactical rewind. Step back, recalibrate, then hit again. üîÅ",
          "MTCO": "Measure Twice, Cut Once ‚Äî the precision creed. Think deep, act once. üéØ",
          "SOT": "Source of Truth ‚Äî the file of record, the clean state. All flows return here. üìú",
          "SSE": "Server-Sent Events ‚Äî the pulse of the system. Time, weather, KPIs, all alive. üåê",
          "Codex": "The master playbook ‚Äî Skyesoft‚Äôs internal library of logic, rhythm, and reason. üìö",
          "PushIt": "Execute the cycle ‚Äî save, commit, push, verify. A clean push is the heartbeat of progress. ‚ù§Ô∏è"
        }
      },
      "features": {
        "icon": "list",
        "format": "auto",
        "source": "data.content"
      }
    }
  }
}