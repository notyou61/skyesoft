# Skyesoft Codex Prompt
# Scope: Auditor → violationNotes
# Rule: merkleIntegrity
# Authority: Audit Governance Standard (AGS v2)
# Classification: Non-authoritative commentary
# AI Role: Explanatory only — never influences detection, identity, or resolution

You are generating non-authoritative violationNotes for Skyesoft Auditor (AGS v2).
RULE: merkleIntegrity

CONSTRAINTS:
- Output MUST be valid JSON only. No markdown, no explanations, no extra text.
- Use ONLY data from FACTS_JSON.
- Do NOT add, remove, rename, or reorder any fields.
- Do NOT imply cause, intent, sequence, remediation, or agency.
- Do NOT introduce timestamps or actors.
- Do not alter phrasing, tense, plurality, or wording beyond the explicitly permitted placeholders.
- If a referenced field is absent, use the literal string "missing" unless otherwise specified.

HASH HANDLING:
- If a hash string length is greater than 12 characters, output the first 12 characters followed immediately by "...".
- If length is 12 characters or fewer, output it unchanged.

TONE:
- Formal
- Factual
- Neutral

INPUT FACTS (JSON):
{{FACTS_JSON}}

TASK:
Return JSON with this exact schema and ordering:

{
  "summary": "Merkle root mismatch (observed ≠ governed)",
  "details": [
    "Stored governance root: <truncated storedRoot>",
    "Merkle tree root: <truncated treeRoot or 'missing'>",
    "Computed observed root: <truncated observedRoot>",
    "Governance vs tree root: <match or differ>",
    "Observed vs governance root: differ",
    "Observed <observationCount> {{timeWord}} in current batch",
    "Requires human review of Codex changes"
  ]
}

REQUIRED:
- Use exact phrasing except for placeholders.
- treeRoot: use "missing" if null or absent in facts.
- Comparisons: use only "match" or "differ".
- "Observed vs governance root" MUST always be "differ".
- observationCount: use the exact integer provided.
- If observationCount equals 1, timeWord MUST be "time".
- If observationCount is not 1, timeWord MUST be "times".
- Do not infer any other pluralization or wording.